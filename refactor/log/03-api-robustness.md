# 브리핑: API 레이어 견고함 확보 (Error Handling)

## 1. 개선의 필요성 (Why)
현재의 API 레이어(`courses/index.ts` 등)는 에러 발생 시 다음과 같은 문제가 있습니다:
- 에러를 `console.error`로만 로깅하고 빈 배열이나 초기 값을 반환합니다.
- 이 경우 호출하는 쪽(컴포넌트)에서는 성공적으로 끝났으나 결과값이 비어있는 것인지, 에러가 발생한 것인지 구분할 수 없습니다.
- "로딩 및 에러 상태 처리"를 위해선 API 레이어에서 에러가 명확히 전파되어야 합니다.

## 2. 개선 방안 (How)
- **Error Propagation**: API 함수에서 `try-catch`로 에러를 삼키지 않고, 에러 발생 시 예외를 던지거나(Throw) 명시적인 Error 객체를 포함한 결과를 반환합니다.
- **Axios Interceptor 활용**: 글로벌 에러 처리(401 인증 만료, 500 서버 에러 등)를 인터셉터에서 일괄 관리하여 중복을 줄입니다.
- **React Query 연동**: API 레이어에서 전파된 에러를 React Query의 `error` 상태로 자연스럽게 연결하여 UI에서 감지하게 합니다.

## 3. 기대 효과 (What)
- **정확한 UI 상태 반영**: 에러 발생 시 "데이터가 없습니다" 대신 "서버와 연결이 원활하지 않습니다"와 같은 정확한 메시지 표시 가능.
- **디버깅 효율성**: 에러의 근원지를 추적하기 쉬워집니다.
- **코드 일관성**: 모든 API 호출에서 일관된 에러 처리 패턴을 유지할 수 있습니다.

## 4. 실행 계획 (Plan)
1.  `src/shared/api/axios.ts` 내 공통 에러 처리를 위한 인터셉터 설정.
2.  개별 API 함수들(`getCourses` 등)의 `try-catch` 구조를 수정하여 에러 전파.
3.  API 응답 타입을 명확히 정의하여 실패 사례(Failure) 시나리오 대응.
4.  필요시 전역 에러 바운더리(Error Boundary) 검토.
